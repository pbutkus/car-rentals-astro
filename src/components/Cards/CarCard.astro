---
import Button from "../Button.astro";
import Details from "./CarCardComponents/Details.astro";

import type { CollectionEntry } from "astro:content";
interface Props {
  car: CollectionEntry<"cars">;
}

const { car } = Astro.props;

const fullCarName = `${car.data.make} ${car.data.model}`;
const link = `/cars/${car.slug}`;
---

<div class="w-1/4 min-w-[240px] bg-zinc-50 rounded-sm">
  <div class="flex relative">
    <img
      src={car.data.thumbnail}
      alt={fullCarName}
      class="object-cover h-60 w-full"
    />
    <span class="absolute p-1 bg-red-700 text-zinc-50 right-1 bottom-1"
      >{`$${car.data.price}`}</span
    >
  </div>
  <div class="flex flex-col text-zinc-900">
    <h2 class="font-semibold text-lg text-center border-b border-zinc-300 p-2">
      {fullCarName}
    </h2>
    <Details
      modelYear={car.data.modelYear}
      mileage={car.data.mileage}
      transmission={car.data.transmission}
    />
    <div class="flex flex-row w-full">
      <a
        class="p-4 bg-red-700 text-white w-1/2 text-center"
        href="http://"
        target="_blank"
        rel="noopener noreferrer">Email</a
      >
      <a
        class="p-4 bg-green-700 text-white w-1/2 text-center"
        href="http://"
        target="_blank"
        rel="noopener noreferrer">Whatsapp</a
      >
    </div>
  </div>
</div>
